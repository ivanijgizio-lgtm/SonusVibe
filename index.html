<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SonusVibe ‚Äî Music Genres</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

  <style>
    * {margin:0;padding:0;box-sizing:border-box;}
    :root {
      --bg:#0a0b12;
      --card:#111827;
      --surface:rgba(255,255,255,0.04);
      --border:rgba(255,255,255,0.08);
      --text:#f8fafc;
      --muted:#b7c0d6;
      --accent:#6d28d9;
      --accent2:#06b6d4;
      --radius:16px;
      --shadow:0 18px 40px rgba(2,6,23,.45);
    }
    body {
      font-family:"Plus Jakarta Sans",sans-serif;
      background:
        radial-gradient(900px 500px at 10% -10%, rgba(109,40,217,0.25), transparent 60%),
        radial-gradient(900px 500px at 90% 0%, rgba(6,182,212,0.22), transparent 60%),
        var(--bg);
      color:var(--text);
    }
    h1,h2,h3,.logo{font-family:"Space Grotesk",sans-serif;}
    .hidden{display:none!important;}
    .container{max-width:1200px;margin:0 auto;padding:0 2rem;}
    .header{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(10,10,18,0.8);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);padding:1rem 0;}
    .nav{display:flex;justify-content:space-between;align-items:center;}
    .logo{font-size:1.6rem;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}

    .nav-links {display:flex;gap:1.2rem;}
    .nav-links a {color:var(--muted);text-decoration:none;font-weight:600;font-size:.95rem;}
    .nav-links a:hover {color:var(--text);}

    .btn{border:1px solid var(--border);background:var(--surface);color:var(--text);padding:.7rem 1.4rem;border-radius:12px;cursor:pointer;font-weight:600;transition:.2s;}
    .btn:hover{transform:translateY(-1px);border-color:var(--accent);}
    .btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;color:white;box-shadow:0 10px 30px rgba(124,58,237,.3);}
    .btn-ghost {background:transparent;border:1px solid var(--border);color:var(--text);}
    .btn-hero {padding:1rem 2.2rem;font-size:1.05rem;border-radius:14px;}

    .hero {padding-top:160px;text-align:center;min-height:70vh;display:flex;flex-direction:column;align-items:center;gap:1.2rem;}
    .hero-kicker {font-size:.85rem;letter-spacing:.12em;text-transform:uppercase;color:var(--accent2);}
    .hero-title{font-size:clamp(2.5rem,6vw,4rem);font-weight:700;}
    .hero-subtitle{color:var(--muted);max-width:720px;margin:0 auto;}
    .hero-actions {display:flex;gap:.8rem;flex-wrap:wrap;justify-content:center;}

    .hero-stats {display:flex;gap:2rem;margin-top:1.2rem;flex-wrap:wrap;justify-content:center;}
    .stat-number {font-size:1.3rem;font-weight:700;display:block;}
    .stat-label {color:var(--muted);font-size:.85rem;}

    .section {padding:3rem 0;}
    .section-title {text-align:center;margin-bottom:1.6rem;}
    .section-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.2rem;}
    .card-min {background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.2rem;}
    .feature-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;}
    .feature-card {background:var(--card);border:1px solid var(--border);padding:1rem;border-radius:14px;text-align:center;}
    .step-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;}
    .step-card {background:var(--surface);border:1px solid var(--border);padding:1.2rem;border-radius:14px;display:flex;gap:.8rem;align-items:center;}
    .step-card span {background:linear-gradient(135deg,var(--accent),var(--accent2));color:white;padding:.35rem .7rem;border-radius:999px;font-weight:700;}

    .panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1.5rem;margin-bottom:2rem;backdrop-filter:blur(10px);position:relative;z-index:2;}
    .input,.select{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:.9rem 1.2rem;color:var(--text);width:100%;pointer-events:auto;user-select:text;}
    .search-box{display:grid;grid-template-columns:1fr auto;gap:.8rem;}
    .filter-options{display:flex;gap:.7rem;flex-wrap:wrap;}
    .filter-tag{padding:.5rem 1rem;border-radius:999px;border:1px solid var(--border);background:transparent;color:var(--text);cursor:pointer;font-size:.85rem;}
    .filter-tag.active{background:var(--accent);border-color:var(--accent);}
    .genres-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;}
    .genre-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:1.2rem;box-shadow:var(--shadow);transition:.2s;position:relative;overflow:hidden;}
    .genre-card:hover{transform:translateY(-3px);border-color:var(--accent);}
    .card-cover{
      height:140px;border-radius:12px;background-size:cover;background-position:center;margin-bottom:1rem;
      display:flex;align-items:end;padding:0.8rem;
      background-image:linear-gradient(135deg,rgba(124,58,237,.35),rgba(34,211,238,.25));
    }
    .card-cover .tag{background:rgba(0,0,0,.4);padding:.3rem .7rem;border-radius:999px;font-size:.75rem;}
    .genre-title{font-size:1.2rem;font-weight:700;margin-bottom:.4rem;}
    .meta{color:var(--muted);font-size:.85rem;}
    .chips{display:flex;flex-wrap:wrap;gap:.4rem;margin:.8rem 0;}
    .chip{padding:.35rem .7rem;border-radius:999px;border:1px solid var(--border);font-size:.75rem;color:var(--muted);}
    @media(max-width:768px){
      .search-box{grid-template-columns:1fr;}
      .nav-links{display:none;}
    }
  </style>
</head>
<body>

<header class="header">
  <div class="container nav">
    <div class="logo">SonusVibe</div>

    <nav class="nav-links">
      <a href="#overview">–û–±–∑–æ—Ä</a>
      <a href="#features">–§–∏—á–∏</a>
      <a href="#how">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç</a>
    </nav>
  </div>
</header>

<section id="landingPage">
  <div class="container hero">
    <span class="hero-kicker">Curated Music Atlas</span>
    <h1 class="hero-title">–û—Ç–∫—Ä–æ–π –º—É–∑—ã–∫—É –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é, —Ç–µ–º–ø—É –∏ —ç–ø–æ—Ö–µ</h1>
    <p class="hero-subtitle">
      SonusVibe ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∂–∞–Ω—Ä–æ–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ —Ç—Ä–µ–∫–æ–≤
      –∏ –∂–∏–≤—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏. –°–æ–∑–¥–∞–Ω –¥–ª—è –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤, –¥–∏–¥–∂–µ–µ–≤ –∏ –º–µ–ª–æ–º–∞–Ω–æ–≤.
    </p>

    <div class="hero-actions">
      <button id="togglePageBtn" class="btn btn-primary btn-hero">Launch App</button>
      <a href="#features" class="btn btn-ghost">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
    </div>

    <div class="hero-stats">
      <div><span class="stat-number">100+</span><span class="stat-label">–∂–∞–Ω—Ä–æ–≤</span></div>
      <div><span class="stat-number">3</span><span class="stat-label">—Ç–∏–ø–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤</span></div>
      <div><span class="stat-number">2024</span><span class="stat-label">–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã</span></div>
    </div>
  </div>

  <div id="overview" class="container section">
    <div class="section-grid">
      <div class="card-min">
        <h3>–ü—Ä–æ—Å—Ç–æ –∏ —á–∏—Å—Ç–æ</h3>
        <p>–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –ø–æ–¥–∞—á–∞, –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∞. –ë—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—à—å –Ω—É–∂–Ω—ã–π —Å—Ç–∏–ª—å.</p>
      </div>
      <div class="card-min">
        <h3>–î–∞–Ω–Ω—ã–µ –Ω–∞–≥–ª—è–¥–Ω–æ</h3>
        <p>–¢–µ–º–ø, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, —ç–ø–æ—Ö–∏ –∏ –∫–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å—Ä–∞–∑—É –Ω–∞ –≤–∏–¥—É.</p>
      </div>
      <div class="card-min">
        <h3>–¢—Ä–µ–Ω–¥—ã –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ</h3>
        <p>–°–º–æ—Ç—Ä–∏, –∫–∞–∫–∏–µ –∂–∞–Ω—Ä—ã —Ä–∞—Å—Ç—É—Ç –∏ –≥–¥–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∑–≤—É—á–∞–Ω–∏–π.</p>
      </div>
    </div>
  </div>

  <div id="features" class="container section">
    <h2 class="section-title">–ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏</h2>
    <div class="feature-grid">
      <div class="feature-card">‚ö° –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∂–∞–Ω—Ä–æ–≤</div>
      <div class="feature-card">üéöÔ∏è –§–∏–ª—å—Ç—Ä—ã –ø–æ BPM</div>
      <div class="feature-card">üåí –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é</div>
      <div class="feature-card">üóìÔ∏è –≠–ø–æ—Ö–∏ –∏ —Å—Ç–∏–ª–∏</div>
      <div class="feature-card">üìå –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (—Å–∫–æ—Ä–æ)</div>
      <div class="feature-card">üéß –ê—É–¥–∏–æ‚Äë–ø—Ä–∏–º–µ—Ä—ã</div>
    </div>
  </div>

  <div id="how" class="container section">
    <h2 class="section-title">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
    <div class="step-grid">
      <div class="step-card"><span>1</span> –í—ã–±–∏—Ä–∞–µ—à—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Ç–µ–º–ø</div>
      <div class="step-card"><span>2</span> –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—à—å –∂–∞–Ω—Ä—ã</div>
      <div class="step-card"><span>3</span> –°–æ—Ö—Ä–∞–Ω—è–µ—à—å –ª—é–±–∏–º—ã–µ</div>
    </div>
  </div>
</section>

<section id="appPage" class="hidden">
  <div class="container" style="padding-top:120px">
    <button id="backBtn" class="btn">‚Üê Back</button>

    <div class="panel">
      <h2>Search</h2>
      <div class="search-box" style="margin-top:1rem;">
        <input id="searchInput" type="search" class="input" placeholder="Amapiano, Techno..." autocomplete="off" />
        <button id="searchBtn" class="btn btn-primary">Search</button>
      </div>
    </div>

    <div class="panel">
      <h3>Filters</h3>
      <div class="filter-options" style="margin:.7rem 0;">
        <button class="filter-tag active" data-group="trend" data-filter="all">All</button>
        <button class="filter-tag" data-group="trend" data-filter="top">Top</button>
        <button class="filter-tag" data-group="trend" data-filter="growth">Growth</button>
      </div>
      <div class="filter-options">
        <button class="filter-tag active" data-group="bpm" data-filter="all">Any BPM</button>
        <button class="filter-tag" data-group="bpm" data-filter="slow">60‚Äì110</button>
        <button class="filter-tag" data-group="bpm" data-filter="medium">110‚Äì140</button>
        <button class="filter-tag" data-group="bpm" data-filter="fast">140+</button>
      </div>
      <button id="clearBtn" class="btn" style="margin-top:1rem;">Clear</button>
    </div>

    <div id="resultsText" style="margin-bottom:1rem;color:var(--muted);"></div>
    <div id="genresContainer" class="genres-grid"></div>
    <div id="noResults" class="hidden">–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</div>
  </div>
</section>

<script>
  let genresData = [];
  let filteredGenres = [];
  let activeFilters = { trend:"all", bpm:"all" };
  const el = id => document.getElementById(id);

  async function loadGenres() {
    try {
      const res = await fetch('data/genres.json');
      if (!res.ok) throw new Error('–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω');
      genresData = await res.json();
    } catch (e) {
      console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å genres.json, –∏—Å–ø–æ–ª—å–∑—É—é fallback');
      genresData = [
        {
          id:"amapiano",
          name:"Amapiano",
          bpm:"110-130",
          tier:"growth",
          bpmRange:"medium",
          subgenres:["Log Drum","Sgija"],
          description:"–Æ–ê–†-–ø–∏–∞–Ω–æ-—Ö–∞—É—Å.",
          image:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?auto=format&fit=crop&w=800&q=60",
          audio:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
          video:"https://www.w3schools.com/html/mov_bbb.mp4"
        }
      ];
    }
    filteredGenres = [...genresData];
    renderGenres(genresData);
  }

  loadGenres();

  el('togglePageBtn').onclick = showApp;
  el('backBtn').onclick = showLanding;
  el('searchBtn').onclick = handleSearch;
  el('searchInput').oninput = handleSearch;
  el('clearBtn').onclick = clearFilters;

  document.querySelectorAll('.filter-tag').forEach(tag=>{
    tag.onclick = ()=>applyFilter(tag);
  });

  function showApp(){el('landingPage').classList.add('hidden');el('appPage').classList.remove('hidden');}
  function showLanding(){el('appPage').classList.add('hidden');el('landingPage').classList.remove('hidden');}

  function handleSearch(){
    const term = el('searchInput').value.toLowerCase().trim();
    filteredGenres = term ? genresData.filter(g=>g.name.toLowerCase().includes(term) || (g.description||"").toLowerCase().includes(term)) : [...genresData];
    applyFilters();
  }

  function applyFilter(tag){
    const group = tag.dataset.group;
    document.querySelectorAll(`.filter-tag[data-group="${group}"]`).forEach(t=>t.classList.remove('active'));
    tag.classList.add('active');
    activeFilters[group] = tag.dataset.filter;
    applyFilters();
  }

  function applyFilters(){
    let result = [...filteredGenres];
    if(activeFilters.trend !== "all") result = result.filter(g=>g.tier === activeFilters.trend);
    if(activeFilters.bpm !== "all") result = result.filter(g=>g.bpmRange === activeFilters.bpm);
    renderGenres(result);
  }

  function clearFilters(){
    activeFilters = { trend:"all", bpm:"all" };
    document.querySelectorAll('.filter-tag').forEach(t=>t.classList.remove('active'));
    document.querySelector('.filter-tag[data-group="trend"][data-filter="all"]').classList.add('active');
    document.querySelector('.filter-tag[data-group="bpm"][data-filter="all"]').classList.add('active');
    el('searchInput').value = "";
    filteredGenres = [...genresData];
    renderGenres(genresData);
  }

  function renderGenres(genres){
    const container = el('genresContainer');
    container.innerHTML = "";
    el('resultsText').textContent = `–ü–æ–∫–∞–∑–∞–Ω–æ ${genres.length} –∏–∑ ${genresData.length}`;
    if(!genres.length){el('noResults').classList.remove('hidden');return;}
    el('noResults').classList.add('hidden');

    genres.forEach(g=>{
      const card = document.createElement('div');
      card.className="genre-card";
      card.innerHTML=`
        <div class="card-cover" style="background-image:url('${g.image||''}')">
          <span class="tag">${g.bpm||'BPM'}</span>
        </div>

        <div class="genre-title">${g.name}</div>
        <div class="meta">${g.description||''}</div>

        <div class="chips">
          ${(g.subgenres||[]).slice(0,4).map(s=>`<span class="chip">${s}</span>`).join("")}
        </div>

        ${g.audio ? `<div style="margin-top:10px;"><audio controls style="width:100%"><source src="${g.audio}" type="audio/mpeg"></audio></div>` : ""}

        ${g.video ? `<div style="margin-top:10px;"><video controls style="width:100%;border-radius:12px;"><source src="${g.video}" type="video/mp4"></video></div>` : ""}
      `;
      container.appendChild(card);
    });
  }
</script>
</body>
</html>
