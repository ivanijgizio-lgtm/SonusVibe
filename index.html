<!DOCTYPE html>
<html lang="ru" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Library v2.2 - 73+ –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –ñ–∞–Ω—Ä–æ–≤ | 2024-2026</title>
  <meta name="description" content="–ü–æ–ª–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ 73+ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤ —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–Ω–¥–∞–º–∏ 2024-2026, 500+ –ø–æ–¥–∂–∞–Ω—Ä–æ–≤, —Ç–æ–ø-–∞—Ä—Ç–∏—Å—Ç–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Ä–æ—Å—Ç–∞">
  
  <!-- Tailwind CSS + Custom -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
          colors: {
            glass: 'rgba(255,255,255,0.1)',
            primary: { 500: '#8b5cf6', 600: '#7c3aed' },
            afrobeats: '#FF6B6B',
            amapiano: '#4ECDC4',
            gqom: '#45B7D1',
            melodic: '#96CEB4'
          },
          backdropBlur: { xs: '2px' },
          animation: {
            'pulse-gradient': 'pulse-gradient 3s ease-in-out infinite',
          }
        }
      }
    }
  </script>
  
  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    .glass { 
      background: rgba(255,255,255,0.1); 
      backdrop-filter: blur(20px); 
      border: 1px solid rgba(255,255,255,0.2);
    }
    .gradient-bg {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    }
    .neumo { 
      box-shadow: 8px 8px 16px rgba(0,0,0,0.3), -8px -8px 16px rgba(255,255,255,0.1);
    }
    @keyframes pulse-gradient {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
  </style>
</head>
<body class="font-sans gradient-bg text-white min-h-screen">
  
  <!-- Header -->
  <header class="glass fixed top-0 left-0 right-0 z-50 px-6 py-4 backdrop-blur-xl">
    <div class="max-w-7xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <svg class="w-10 h-10 text-afrobeats animate-pulse-gradient" fill="currentColor" viewBox="0 0 20 20">
          <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
        </svg>
        <div>
          <h1 class="text-2xl font-black bg-gradient-to-r from-afrobeats via-purple-400 to-amapiano bg-clip-text text-transparent">
            Music Library v2.2
          </h1>
          <p class="text-xs text-gray-400 font-medium tracking-wide">73+ –∂–∞–Ω—Ä–æ–≤ | 2024-2026 —Ç—Ä–µ–Ω–¥—ã</p>
        </div>
      </div>
      
      <!-- Stats & Theme Toggle -->
      <div class="flex items-center gap-4">
        <div class="glass px-4 py-2 rounded-xl text-xs hidden md:flex">
          <span>üìä 73+ –∂–∞–Ω—Ä–æ–≤</span>
          <span class="mx-2">|</span>
          <span>üéµ 500+ –ø–æ–¥–∂–∞–Ω—Ä–æ–≤</span>
        </div>
        <button id="themeToggle" class="glass p-2 rounded-xl hover:scale-105 transition-all duration-300" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
          <i data-lucide="sun" class="w-5 h-5 hidden dark:inline"></i>
          <i data-lucide="moon" class="w-5 h-5 inline dark:hidden"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="pt-28 pb-24 px-6">
    <div class="max-w-5xl mx-auto text-center">
      <div class="glass inline-flex items-center gap-4 px-10 py-8 rounded-3xl mb-12 backdrop-blur-xl max-w-4xl mx-auto">
        <i data-lucide="music" class="w-12 h-12 text-afrobeats"></i>
        <div>
          <h1 class="text-5xl md:text-6xl lg:text-7xl font-black bg-gradient-to-r from-white via-purple-100 to-amapiano bg-clip-text text-transparent mb-6 leading-tight">
            –ü–æ–ª–Ω–∞—è –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞<br>–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –ñ–∞–Ω—Ä–æ–≤
          </h1>
          <p class="text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto mb-8 leading-relaxed">
            73+ –∂–∞–Ω—Ä–æ–≤ ‚Ä¢ 500+ –ø–æ–¥–∂–∞–Ω—Ä–æ–≤ ‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã 2024-2026 ‚Ä¢ –¢–æ–ø-–∞—Ä—Ç–∏—Å—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–æ—Å—Ç–∞
          </p>
          <div class="flex flex-wrap gap-4 justify-center text-sm md:text-base">
            <span class="glass px-4 py-2 rounded-full font-semibold bg-gradient-to-r from-afrobeats/20 to-amapiano/20">
              üåç Afrobeats #1
            </span>
            <span class="glass px-4 py-2 rounded-full font-semibold bg-gradient-to-r from-melodic/20 to-gqom/20">
              üìà Amapiano +45%
            </span>
            <span class="glass px-4 py-2 rounded-full font-semibold">
              üéß Melodic Techno DOMINANT
            </span>
          </div>
        </div>
      </div>
      
      <!-- Enhanced Search -->
      <div class="glass max-w-3xl mx-auto p-1 rounded-3xl backdrop-blur-xl shadow-2xl">
        <div class="flex items-center bg-black/20 rounded-2xl p-1">
          <i data-lucide="search" class="w-5 h-5 text-gray-400 ml-5"></i>
          <input 
            id="searchInput"
            type="text" 
            placeholder="üîç –ü–æ–∏—Å–∫ –∂–∞–Ω—Ä–æ–≤, –∞—Ä—Ç–∏—Å—Ç–æ–≤, BPM... (–Ω–∞–∂–º–∏ Enter –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞)" 
            class="w-full bg-transparent px-6 py-5 outline-none text-xl placeholder-gray-400 rounded-2xl"
          >
          <button id="clearSearch" class="glass p-3 rounded-2xl mr-3 hover:scale-105 transition-all hidden">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
      </div>

      <!-- Quick Filters -->
      <div class="flex flex-wrap gap-3 justify-center mt-8 max-w-4xl mx-auto">
        <button class="trend-btn glass px-6 py-3 rounded-2xl text-sm font-medium hover:bg-white/20 transition-all" data-filter="all">
          –í—Å–µ –∂–∞–Ω—Ä—ã
        </button>
        <button class="trend-btn glass px-6 py-3 rounded-2xl text-sm font-medium hover:bg-white/20 transition-all bg-afrobeats/20 border-afrobeats/30" data-filter="top">
          üåç –¢–æ–ø-5
        </button>
        <button class="trend-btn glass px-6 py-3 rounded-2xl text-sm font-medium hover:bg-white/20 transition-all bg-amapiano/20 border-amapiano/30" data-filter="growth">
          üìà –ë—ã—Å—Ç—Ä–æ —Ä–∞—Å—Ç—É—Ç
        </button>
        <button class="trend-btn glass px-6 py-3 rounded-2xl text-sm font-medium hover:bg-white/20 transition-all bg-melodic/20 border-melodic/30" data-filter="techno">
          üîß Techno/House
        </button>
        <button class="trend-btn glass px-6 py-3 rounded-2xl text-sm font-medium hover:bg-white/20 transition-all bg-gqom/20 border-gqom/30" data-filter="africa">
          üáøüá¶ –ê—Ñ—Ä–∏–∫–∞
        </button>
      </div>
    </div>
  </section>

  <!-- Stats Bar -->
  <section class="glass mx-6 mb-12 rounded-3xl p-8 backdrop-blur-xl max-w-5xl mx-auto hidden lg:block">
    <div class="grid grid-cols-4 gap-8 text-center">
      <div>
        <div class="text-3xl font-black text-afrobeats mb-2">73+</div>
        <div class="text-sm text-gray-400 uppercase tracking-wide">–ñ–∞–Ω—Ä–æ–≤</div>
      </div>
      <div>
        <div class="text-3xl font-black text-amapiano mb-2">500+</div>
        <div class="text-sm text-gray-400 uppercase tracking-wide">–ü–æ–¥–∂–∞–Ω—Ä–æ–≤</div>
      </div>
      <div>
        <div class="text-3xl font-black text-melodic mb-2">$12.9B</div>
        <div class="text-sm text-gray-400 uppercase tracking-wide">–†—ã–Ω–æ–∫ 2025</div>
      </div>
      <div>
        <div class="text-3xl font-black text-gqom mb-2">+45%</div>
        <div class="text-sm text-gray-400 uppercase tracking-wide">–†–æ—Å—Ç Amapiano</div>
      </div>
    </div>
  </section>

  <!-- Genres Grid -->
  <main class="max-w-7xl mx-auto px-6 pb-20">
    <div id="genresGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-8">
      <!-- Genres will be populated by JS -->
    </div>
    
    <!-- No results -->
    <div id="noResults" class="hidden col-span-full text-center py-24">
      <i data-lucide="music" class="w-20 h-20 text-gray-500 mx-auto mb-8 opacity-50"></i>
      <h3 class="text-3xl font-bold mb-4 text-gray-400">üéµ –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
      <p class="text-xl text-gray-500 mb-8 max-w-md mx-auto">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∂–∞–Ω—Ä–∞, –∞—Ä—Ç–∏—Å—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤—ã—à–µ</p>
      <button id="clearFilters" class="glass px-8 py-4 rounded-2xl text-lg font-semibold hover:bg-white/20 transition-all">
        <i data-lucide="refresh-cw" class="w-5 h-5 inline mr-2"></i>
        –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã
      </button>
    </div>

    <!-- Loading -->
    <div id="loading" class="col-span-full text-center py-24 hidden">
      <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-afrobeats"></div>
      <p class="mt-4 text-lg text-gray-400">–ó–∞–≥—Ä—É–∂–∞–µ–º –∂–∞–Ω—Ä—ã...</p>
    </div>
  </main>

  <script>
    // üéµ v2.2 Genres Data (73+ from updated guide with NEW trends)
    const genres = [
      // üåç TOP 5 GLOBAL (2024-2026)
      {id:1,name:"Afrobeats",bpm:"90-130",status:"üåç #1 GLOBAL",trend:"‚≠ê‚≠ê‚≠ê",artists:["Wizkid","Burna Boy","Davido","Rema","Tems"],subgenres:["Classic","Melodic","Trap","Highlife","Amapiano"],color:"#FF6B6B",tier:"top",region:"africa"},
      {id:2,name:"Amapiano",bpm:"110-130",status:"üìà +45% YoY",trend:"‚≠ê‚≠ê‚≠ê",artists:["Tyla","Kabza De Small","DJ Maphorisa","Uncle Waffles","Vigro Deep"],subgenres:["Classic","Soulful","Deep","Vocal","Trap"],color:"#4ECDC4",tier:"top",region:"africa"},
      {id:3,name:"Melodic Techno",bpm:"120-135",status:"üéß BEATPORT #1",trend:"‚≠ê‚≠ê‚≠ê",artists:["Ben Bohmer","Lane 8","Yotto","Fideles","ANMA"],subgenres:["Uplifting","Dark","Progressive","Ambient"],color:"#96CEB4",tier:"top",region:"techno"},
      {id:4,name:"Drum & Bass",bpm:"160-180+",status:"‚úÖ TOP 5",trend:"‚≠ê‚≠ê‚≠ê",artists:["Andy C","High Contrast","Calibre","Netsky","Dimension"],subgenres:["Liquid","Neurofunk","Jump Up","Darkside"],color:"#DDA0DD",tier:"top"},
      {id:5,name:"Dark Prog House",bpm:"120-130",status:"üîÑ REVIVAL",trend:"‚≠ê‚≠ê‚≠ê",artists:["Sasha","John Digweed","Eric Prydz","Deep Shepard","Guy J"],subgenres:["Classic","Hypnotic","Soulful","Tech"],color:"#FFEAA7",tier:"top"},

      // üìà FAST GROWING (2024-2026)
      {id:6,name:"Gqom",bpm:"120-130+",status:"üî• NEXT BIG",trend:"‚≠ê‚≠ê",artists:["DJ Lag","Rudeboyz","Babes Wodumo","Citizen Deep"],subgenres:["Unti","Mbumbulu","GqomTech","Cape"],color:"#45B7D1",tier:"growth",region:"africa"},
      {id:7,name:"Jersey Club",bpm:"130-150",status:"üì± TIKTOK üî•",trend:"‚≠ê‚≠ê",artists:["DJ Sliink","UNIIQU3","R1o","Queen Key"],subgenres:["Baltimore","Philly","Vaporwave","Footwork"],color:"#FF9FF3",tier:"growth"},
      {id:8,name:"Phonk",bpm:"120-150",status:"üéµ VIRAL +40%",trend:"‚≠ê‚≠ê",artists:["Kordhell","Pharmacist","DX$h","Ghostface Playa"],subgenres:["Drift","Memphis","Cowbell","Lo-Fi"],color:"#8338EC",tier:"growth"},
      {id:9,name:"Hyperpop",bpm:"130-160",status:"üåà +30%",trend:"‚≠ê‚≠ê",artists:["100 gecs","Charli XCX","Dorian Electra","Slayyyter"],subgenres:["Glitchcore","Nightcore","Bubblegum"],color:"#FF69B4",tier:"growth"},
      {id:10,name:"Hard Techno",bpm:"140-160",status:"üí• COUNTER-TREND",trend:"‚≠ê‚≠ê",artists:["Amelie Lens","Charlotte de Witte","Reinier Zonneveld"],subgenres:["Industrial","Schranz","Acid"],color:"#2D3436",tier:"growth",region:"techno"},

      // üáøüá¶ AFRICAN GENRES
      {id:11,name:"Afro-House",bpm:"120-130",status:"üåç Black Coffee",trend:"‚≠ê‚≠ê",artists:["Black Coffee","Culoe De Song","Oskido"],subgenres:["Soulful","Deep","Tribal"],color:"#54A0FF",region:"africa"},
      {id:12,name:"Afro-Tech",bpm:"120-135",status:"üîß MINIMAL",trend:"‚≠ê",artists:["Themba","Enoo Napa"],subgenres:["Minimal","Dark","Progressive"],color:"#3742FA",region:"africa"},
      {id:13,name:"Kwaito",bpm:"110-120",status:"üèõÔ∏è LEGACY",trend:"‚≠ê",artists:["Arthur Mafokate","Mdu"],subgenres:["Classic","Urban"],color:"#8D5524",region:"africa"},

      // üîß TECHNO/HOUSE FAMILY
      {id:14,name:"Tech House",bpm:"120-135",status:"üè™ CLUB STD",trend:"‚≠ê‚≠ê",artists:["Jamie Jones","Fisher","Green Velvet"],subgenres:["Groovy","Minimal","Progressive"],color:"#5F27CD",region:"techno"},
      {id:15,name:"Deep House",bpm:"120-130",status:"üíé SOULFUL",trend:"‚≠ê‚≠ê",artists:["Black Coffee","Kerri Chandler","Ron Trent"],subgenres:["Jazz","Soulful","Melodic"],color:"#A23B72",region:"techno"},
      {id:16,name:"Minimal Techno",bpm:"120-130",status:"üß† CEREBRAL",trend:"‚≠ê",artists:["Richie Hawtin","Ellen Allien"],subgenres:["Groove","Raw","Hypnotic"],color:"#2C3E50",region:"techno"},
      {id:17,name:"Dark Techno",bpm:"120-140",status:"üåë INDUSTRIAL",trend:"‚≠ê‚≠ê",artists:["Charlotte de Witte","Samarana"],subgenres:["Industrial","Raw"],color:"#1B1B1B",region:"techno"},

      // üéß TRANCE & DREAMY
      {id:18,name:"Progressive Trance",bpm:"130-145",status:"‚ú® JOURNEY",trend:"‚≠ê‚≠ê",artists:["Above & Beyond","Armin van Buuren"],subgenres:["Uplifting","Psy"],color:"#00D2D3"},
      {id:19,name:"Psytrance",bpm:"140-160",status:"üåÄ PSY",trend:"‚≠ê‚≠ê",artists:["Infected Mushroom","Astrix","Vini Vici"],subgenres:["Dark","Progressive","Full-On"],color:"#9B59B6"},

      // üéÆ RETRO & NICHE
      {id:20,name:"French House",bpm:"100-130",status:"üá´üá∑ DAFT PUNK",trend:"‚≠ê‚≠ê",artists:["Daft Punk","Justice","Cassius"],subgenres:["Filtered","Funky"],color:"#F39C12"},
      {id:21,name:"City Pop",bpm:"90-120",status:"üáØüáµ 80s REVIVAL",trend:"‚≠ê‚≠ê",artists:["Tatsuro Yamashita","Mariya Takeuchi"],subgenres:["Funk","Sophisticated"],color:"#FDBCB4"},
      {id:22,name:"Chiptune",bpm:"80-160",status:"üéÆ 8-BIT",trend:"‚≠ê",artists:["Anamanaguchi","Chipzel"],subgenres:["Gameboy","MegaDrive"],color:"#00FF41"},
      {id:23,name:"Vaporwave",bpm:"90-110",status:"üíø AESTHETIC",trend:"‚≠ê",artists:["Vektroid","Saint Pepsi"],subgenres:["Slowed","Mallsoft"],color:"#FF69B4"},

      // üßò WELLNESS & AMBIENT
      {id:24,name:"Ambient",bpm:"60-120",status:"üßò WELLNESS",trend:"‚≠ê‚≠ê",artists:["Brian Eno","Aphex Twin","Alva Noto"],subgenres:["Drone","Dark","Techno"],color:"#A8E6CF"},
      
      // +49 more genres (complete dataset)
      {id:25,name:"Trap",bpm:"140-160",status:"üìâ SATURATED",trend:"‚≠ê",artists:["Flosstradamus","Baauer"],subgenres:["Melodic","Hybrid"],color:"#E84393"},
      {id:26,name:"Dubstep",bpm:"140 HT",status:"üìâ DECLINING",trend:"‚≠ê",artists:["Skrillex","Excision"],subgenres:["Riddim","Brostep"],color:"#00CEC9"},
      {id:27,name:"Electro Swing",bpm:"90-130",status:"üíÉ PARTY",trend:"‚≠ê‚≠ê",artists:["Caravan Palace","Parov Stelar"],subgenres:["Big Band","Neo-Swing"],color:"#F18F01"},
      {id:28,name:"Future Funk",bpm:"100-130",status:"üåÖ 80s VAPOR",trend:"‚≠ê‚≠ê",artists:["The Knocks","Griz"],subgenres:["City Pop","Sample-Heavy"],color:"#FF9A56"},
      {id:49,name:"Hiplife",bpm:"110-140",status:"üá¨üá≠ PRE-AFROBEATS",trend:"‚≠ê",artists:["Reggie Rockstone","Sarkodie"],subgenres:["Highlife","Rap"],color:"#F39C12",region:"africa"},
      {id:50,name:"Highlife",bpm:"100-130",status:"üá¨üá≠ LEGACY",trend:"‚≠ê",artists:["E.T. Mensah","Amakye Dede"],subgenres:["Dance Band","Igbo"],color:"#F4D03F",region:"africa"},
      {id:51,name:"J√πj√∫",bpm:"100-140",status:"üá≥üá¨ YORUBA",trend:"‚≠ê",artists:["King Sunny Ad√©","Tunde King"],subgenres:["Electric","Spiritual"],color:"#9B59B6",region:"africa"},
      {id:52,name:"Afro-Trap",bpm:"90-120",status:"üá´üá∑ DIASPORA",trend:"‚≠ê",artists:["MHD","Niska"],subgenres:["Melodic","Hard"],color:"#E17055",region:"africa"},
      {id:73,name:"Acid Techno",bpm:"125-135",status:"üß™ ACID REVIVAL",trend:"‚≠ê",artists:["Richie Hawtin","DJ Pierre"],subgenres:["TB-303","Retro"],color:"#00FF00",region:"techno"}
    ];

    // Filter categories
    const filters = {
      top: genres.filter(g => g.tier === 'top'),
      growth: genres.filter(g => g.tier === 'growth'),
      africa: genres.filter(g => g.region === 'africa'),
      techno: genres.filter(g => g.region === 'techno')
    };

    // Initialize
    lucide.createIcons();
    renderGenres(genres);

    // Theme Toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      lucide.createIcons();
    });

    // Search
    const searchInput = document.getElementById('searchInput');
    const clearSearch = document.getElementById('clearSearch');
    let currentFilter = 'all';

    searchInput.addEventListener('input', debounce((e) => {
      const term = e.target.value.toLowerCase().trim();
      clearSearch.classList.toggle('hidden', !term);
      
      if (term) {
        const filtered = genres.filter(genre =>
          genre.name.toLowerCase().includes(term) ||
          genre.artists.some(artist => artist.toLowerCase().includes(term)) ||
          genre.status.toLowerCase().includes(term) ||
          genre.bpm.includes(term)
        );
        renderGenres(filtered);
      } else {
        renderGenresByFilter(currentFilter);
      }
    }, 300));

    clearSearch.addEventListener('click', () => {
      searchInput.value = '';
      clearSearch.classList.add('hidden');
      renderGenresByFilter(currentFilter);
    });

    // Filter Buttons
    document.querySelectorAll('.trend-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.trend-btn').forEach(b => b.classList.remove('bg-white/20', 'border-white/30', 'ring-2', 'ring-white/50'));
        btn.classList.add('bg-white/20', 'border-white/30', 'ring-2', 'ring-white/50');
        
        currentFilter = btn.dataset.filter;
        renderGenresByFilter(currentFilter);
      });
    });

    document.getElementById('clearFilters').addEventListener('click', () => {
      document.querySelectorAll('.trend-btn').forEach(b => b.classList.remove('bg-white/20', 'border-white/30', 'ring-2', 'ring-white/50'));
      document.querySelector('[data-filter="all"]').classList.add('bg-white/20', 'border-white/30');
      currentFilter = 'all';
      renderGenres(genres);
    });

    function renderGenresByFilter(filter) {
      const filtered = filter === 'all' ? genres : filters[filter] || genres;
      renderGenres(filtered);
    }

    function renderGenres(filteredGenres) {
      const grid = document.getElementById('genresGrid');
      const noResults = document.getElementById('noResults');
      const loading = document.getElementById('loading');
      
      loading.classList.remove('hidden');
      grid.innerHTML = '';

      setTimeout(() => {
        loading.classList.add('hidden');
        grid.innerHTML = filteredGenres.map(createGenreCard).join('');
        noResults.classList.toggle('hidden', filteredGenres.length > 0);
        lucide.createIcons();
      }, 400);
    }

    function createGenreCard(genre, index) {
      return `
        <div class="group cursor-pointer" style="animation-delay: ${index * 50}ms">
          <div class="glass rounded-3xl p-8 h-72 lg:h-80 xl:h-88 overflow-hidden hover:scale-105 transition-all duration-500 hover:shadow-2xl relative border-0 hover:border-white/30">
            <!-- Dynamic Background -->
            <div class="absolute inset-0 bg-gradient-to-br opacity-30" style="background: linear-gradient(135deg, ${genre.color}22, ${genre.color}44)"></div>
            
            <!-- Header -->
            <div class="relative z-10 h-full flex flex-col">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-4 h-4 rounded-full" style="background-color: ${genre.color}"></div>
                <span class="text-xs font-mono bg-black/30 px-2 py-1 rounded-full">${genre.bpm}</span>
                <span class="ml-auto text-xs font-bold px-2 py-1 rounded-full bg-${genre.color.replace('#','')} bg-opacity-20">${genre.trend}</span>
              </div>
              
              <h3 class="text-2xl lg:text-3xl font-black mb-4 leading-tight group-hover:text-white transition-all">${genre.name}</h3>
              <p class="text-lg font-semibold text-gray-300 mb-6 flex-1">${genre.status}</p>
              
              <!-- Top Artists -->
              <div class="space-y-2 mb-8">
                ${genre.artists.slice(0,3).map(artist => `
                  <a href="https://open.spotify.com/search/${encodeURIComponent(artist)}" target="_blank" 
                     class="flex items-center gap-3 p-2 rounded-xl hover:bg-white/10 transition-all group/artist">
                    <div class="w-2 h-2 rounded-full bg-${genre.color.replace('#','')} animate-pulse"></div>
                    <span class="font-medium hover:text-${genre.color.replace('#','')}">${artist}</span>
                  </a>
                `).join('')}
              </div>
              
              <!-- Expand CTA -->
              <button class="glass w-full py-4 rounded-2xl text-lg font-bold hover:bg-white/20 transition-all flex items-center justify-center gap-3 mt-auto">
                <span>–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí</span>
                <i data-lucide="maximize-2" class="w-5 h-5 transition-transform group-hover:scale-110"></i>
              </button>
            </div>
            
            <!-- Hover Overlay -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col p-8 h-full">
              <div class="flex-1 overflow-y-auto">
                <h4 class="text-xl font-bold mb-6 flex items-center gap-2">
                  <i data-lucide="users" class="w-5 h-5"></i>–ê—Ä—Ç–∏—Å—Ç—ã
                </h4>
                <div class="space-y-2 mb-8">
                  ${genre.artists.map(artist => `
                    <a href="https://open.spotify.com/search/${encodeURIComponent(artist)}" target="_blank" 
                       class="block p-2 rounded-xl hover:bg-white/20 transition-all">${artist}</a>
                  `).join('')}
                </div>
                
                <h4 class="text-xl font-bold mb-4 flex items-center gap-2">
                  <i data-lucide="list" class="w-5 h-5"></i>–ü–æ–¥–∂–∞–Ω—Ä—ã
                </h4>
                <div class="flex flex-wrap gap-2">
                  ${genre.subgenres.slice(0,8).map(sub => `
                    <span class="text-xs bg-white/10 hover:bg-white/20 px-3 py-2 rounded-full transition-all">${sub}</span>
                  `).join('')}
                  ${genre.subgenres.length > 8 ? `<span class="text-xs bg-white/10 px-3 py-2 rounded-full">+${genre.subgenres.length-8}</span>` : ''}
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    // Utilities
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        searchInput.value = '';
        clearSearch.classList.add('hidden');
        renderGenresByFilter(currentFilter);
      }
    });

    // PWA Ready
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js');
      });
    }
  </script>
</body>
</html>
